## [853. Car Fleet](https://leetcode.com/problems/car-fleet/description/)
**Difficulty:** Medium | **Topic:** Stack 

#### Complexity
* **Time:** $O(nlogn)$
* **Space:** $O(n)$

#### Intuition
1. When a car is behind a fleet, and it takes less time to get to the target, this car will catch up and join the fleet.
2. Use a stack to merge cars into fleets

#### Code
```python
class Solution:
    def carFleet(self, target: int, position: List[int], speed: List[int]) -> int:
        cars = [(p, s) for p, s in zip(position, speed)]

        # Sort cars from the one closest to the target
        # This allows us to process the cars in the front first when using a stack
        # Note: by default sort by first element of each tuple
        cars.sort(reverse=True) 

        # Use this stack to merge cars into fleets
        arrival_times = [] 
        for car in cars:
            # calculate time for each car to reach target
            car_position = car[0]
            car_speed = car[1]
            arrival_time = (target - car_position) / car_speed

            if not arrival_times:
                arrival_times.append(arrival_time)
            else:
                last_fleet_arrival_time = arrival_times[-1]

                # if the car takes more time to arrive at target than the previous car,
                # they won't form a fleet - start a new fleet with a new arrival time
                if arrival_time > last_fleet_arrival_time:
                    arrival_times.append(arrival_time)

        return len(arrival_times)

```
